#:kivy 2.3.0

# Define a reusable widget with a specific font style
<MediumLabel@MDLabel>:
    font_style: "Title"
    role: "medium"

# Define the Stats screen layout
<Stats>:
    md_bg_color: "#1a1a2f"  # Background color for the screen
    name: "stats"  # Screen name for reference in ScreenManager

    # Icon at the top center of the screen
    MDIcon:
        icon: "information-outline"
        pos_hint: {"center_x": .5, "center_y": .95}

    # Label with a description about the statistics displayed
    MediumLabel:
        pos_hint: {"center_x": .5, "center_y": 0.8}
        size_hint_x: 0.8
        halign: "center"
        text:
            "Simple statistics for total days and consecutive days \
            when all the tasks in the relevant tab have been completed"

    MDLabel:
        pos_hint: {"center_x": .5, "center_y": 0.65}
        halign: "center"
        text: "Choose tab for statistics:"
        font_style: "Title"
        role: "large"

    # Button to open the dropdown menu for selecting statistics category
    MDButton:
        id: btn
        pos_hint: {"center_x": .5, "center_y": .55}
        size_hint: None, None
        size: dp(300), dp(70)
        style: "filled"
        theme_bg_color: "Custom"
        md_bg_color: "#0a15e3"
        on_release: root.tabs_menu_open()  # Open the dropdown menu when button is pressed

        MDButtonIcon:
            icon: "tab-search"
            theme_icon_color: "Custom"
            icon_color: "white"

        MDButtonText:
            id: btn_text
            font_style: "Title"
            role: "medium"
            theme_text_color: "Custom"
            text_color: "white"

    # GridLayout for displaying statistics (total and consecutive days)
    GridLayout:
        pos_hint: {"center_x": .5, "center_y": 0.3}
        size_hint: 0.7, 0.3
        cols: 2

        MediumLabel:
            text: f"Total days completing all tasks: "
            size_hint_x: 3

        # Label for displaying total days value
        MediumLabel:
            text: f"[b]{root.total_days}[/b]"
            markup: True
            halign: "right"

        MediumLabel:
            text: f"Consecutive days completing all tasks: "
            size_hint_x: 3

        # Label for displaying consecutive days value
        MediumLabel:
            text: f"[b]{root.consecutive_days}[/b]"
            markup: True
            halign: "right"
