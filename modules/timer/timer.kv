#:kivy 2.3.0

<Timer>:
    md_bg_color: "#1a1a2f"
    name: "timer"  # Screen name for navigation
    MDLabel:
        id: current_time_label
        text: "25:00"  # Initial timer value
        font_style: "lora"
        role: "large"
        halign: "center"
        pos_hint: {"center_y": 0.7}

    MDButton:
        style: "filled"
        theme_bg_color: "Custom"
        md_bg_color: "#0a15e3"
        pos_hint: {"center_x": 0.5, "center_y": 0.60}  # Position the button below the timer label
        # on_release: root.start_timer(root.start_stop_button_text)  # Start or stop the timer when pressed
        on_release: root.stop_timer() if root.time_store.get("timer")["timer_is_running"] else root.start_timer()

        MDButtonIcon:
            icon: "clock-start"
            theme_icon_color: "Custom"
            icon_color: "white"

        MDButtonText:
            # text: root.start_stop_button_text  # Text for the start/stop button ("Start" or "Stop")
            text: "Stop" if root.timer_is_running else "Start"
            font_style: "lora"
            role: "small"
            theme_text_color: "Custom"
            text_color: "white"

    MDButton:
        style: "filled"
        theme_bg_color: "Custom"
        md_bg_color: "#0a15e3"
        pos_hint: {"center_x": 0.5, "center_y": 0.50}
        on_release: root.restart_timer()  # Restart the timer when pressed

        MDButtonIcon:
            icon: "restart"
            theme_icon_color: "Custom"
            icon_color: "white"

        MDButtonText:
            text: "Restart"
            font_style: "lora"
            role: "small"
            theme_text_color: "Custom"
            text_color: "white"

    MDLabel:
        text: 'If you want to see current time on clock, click "refresh"'
        font_style: "Title"
        role: "medium"
        halign: "center"
        pos_hint: {"center_y": 0.4}  # Position the instruction label below the buttons

    MDButton:
        style: "filled"
        theme_bg_color: "Custom"
        md_bg_color: "#0a15e3"
        pos_hint: {"center_x": 0.5, "center_y": 0.3}
        on_release: root.refresh_timer()  # Refresh the timer when pressed

        MDButtonIcon:
            icon: "refresh"
            theme_icon_color: "Custom"
            icon_color: "white"

        MDButtonText:
            text: "Refresh"
            font_style: "lora"
            role: "small"
            theme_text_color: "Custom"
            text_color: "white"
